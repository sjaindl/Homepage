<section style="background-color: rgba(208,205,209,0.5); padding-top: 40px; padding-bottom: 30px;">
    <div class="container">

        {% for index in range(0, page.media.count) %}
            
            {% if index % page.header.videosPerSlider == 0 %}
                <div class="slick-responsive">
                    {% set videoCounter = 0 %}
                    {% for video in page.media %}

                        {% if videoCounter >= index and videoCounter <= index + (page.header.videosPerSlider - 1) %}
                            <div class="slick-item">
                                {% if index == 0 and videoCounter == 0 %} 
                                    <video width="420" height="315" poster="../../images/header-mask/header-mask-zeitraffer.jpeg" controls autoplay>
                                        <source src="{{ video.url }}">
                                        Your browser does not support the video tag.
                                    </video>
                                {% else %} 
                                    <video width="420" height="315" poster="../../images/header-mask/header-mask-zeitraffer.jpeg" controls preload="auto">
                                        <source src="{{ video.url }}">
                                        Your browser does not support the video tag.
                                    </video>
                                {% endif %}
                                <div style="text-align: center;"> {{ video.meta.title }} </div>
                            </div>
                        {% endif %}

                        {% set videoCounter = videoCounter + 1 %}

                    {% endfor %}
                </div>

            {% endif %}

        {% endfor %}
        
    </div>
</section>
